{"version":3,"sources":["map.js"],"names":["map","lastItemClickedIndex","locations","infoWindow","mapSelector","document","querySelector","dealerLocatorList","markers","mapOption","zoom","styles","featureType","elementType","stylers","color","visibility","saturation","lightness","addMarkers","locationLatLng","marker","google","maps","LatLngBounds","title","forEach","location","index","position","LatLng","lat","lng","icon","bounds","push","showInfoMarkerOnMap","fitBounds","setContent","getPosition","setZoom","addListener","concat","close","address","phone","getLocationList","event","innerHTML","appendChild","newMarker","createElement","classList","add","initialize","locationsInput","setAttribute","Map","getAttribute","trigger","markerIndex","_typeof","addDomListener","getZoom","removeListener","listener","window"],"mappings":"8PAAA,IAEIA,IAAKC,qBAAsBC,UAAWC,WAFtCC,YAAcC,SAASC,cAAc,QACrCC,kBAAoBF,SAASC,cAAc,8BACOE,QAAU,GAC5DC,UAAY,CAHhBC,KAAIN,GACJO,OAAIJ,CAAAA,CACJK,YAAA,iBAAAC,YAASZ,mBAATa,QAAA,CAAA,CAA0CX,MAAAA,aAEzCO,CACAC,YAAS,YACPE,YAAA,MACAC,QAAA,CAAA,CACAC,MAAA,aAHO,CAQPH,YAAA,MACAC,YAAA,MACAC,QAAA,CAAW,CACVE,WAAS,SAIV,CACAJ,YAAA,OACAC,YAAY,MACXC,QAAA,CAAA,CADUG,YAAA,KAKX,CACAC,UAAA,MAKE,CADDN,YAHU,eAxBLC,YAgCP,MACCC,QAAA,CAAA,CACAE,WAAA,gBACY,CAnCNJ,YAuCP,gBACCC,YAAA,cACAC,QAAA,CAAA,CACAE,WAAY,SAHb,CAQCJ,YAAA,UACAC,YAAA,MACAC,QAAA,CAAW,CACVE,WAAA,SAID,CACAJ,YAAA,QACAC,YAAY,MACVC,QAAA,CAAS,CADAC,MAGV,WAAA,CA3DKC,WAAA,UAuEPG,WAAIC,WACJZ,QAAIa,GACHrB,IAAAA,EADmC,IAAAsB,OAAAC,KAAAC,aAEnCC,UAAKC,QAAEC,SAAAA,EAF4BC,GAGnCC,IAAAA,EAAUT,IAAAA,OAHyBG,KAAAO,OAAAH,EAAAI,IAAAJ,EAAAK,KAInCC,EAAMN,IAAAA,OAASM,KAAAA,OAAAA,CAJoBjC,IAApCA,IAMAkC,MAAMP,EAAQN,MACdb,SAAQ2B,EACRC,KAAAA,EAAAA,OAGDpC,EAAIqC,OAAUH,EAAdL,UAhBDrB,QAAA2B,KAAAd,GAaEe,oBAAoBf,EAAQO,KAQ5BzB,IAAAA,UAAWmC,IAOXtC,oBAAiBuC,SAAAA,EAAjBX,GACA5B,OAAIwC,KAAAA,MAAJC,YAAApB,EAAA,QAAA,WACAlB,WAVDmC,WAUC,iBAAAI,OACMnB,UAAWkB,GAAAA,MADjB,sBAAAC,OAEAvC,UAAWwC,GAAXC,QAFA,qBAAAF,OACDxC,UAAA0B,GAAAiB,MADC,iBAJA5C,qBAAuB2B,EAUzBzB,WAAM2C,KAAAA,IAAkBzB,GACvBrB,IAAIO,MAAAA,EAAAA,eACHP,IAAAwC,QAAA,MAEAlB,OAAAC,KAAAwB,MAAAN,YAAAzC,IAAA,QAAA,WACAG,WAAAwC,WAIAG,gBAAA,WACAvC,oBA2BEA,kBAJDyC,UAAA,GAKAzC,QAAAA,QAAAA,SAAAA,EAAkB0C,GAClB,IAhBDC,EAAA7C,SAAA8C,cAAA,OAiBAD,EAAAE,UAAAC,IAAA,uBAxCFH,EAAAF,UAAA,iBAAAN,OA2CMY,UAAa1B,GAAb0B,MA3CN,sBAAAZ,OA4CKxC,UAAOqD,GAAAA,QA5CZ,qBAAAb,OA6CExC,UAAYqD,GAAAA,MA7Cd,gBA+CEvD,EAAMwD,aAAgBC,YAAtBzD,GAAAA,OAAM4B,IACNT,EAAAA,iBAAU,QAAA,WACVlB,qBAAsBsB,EACrB,IAAIvB,EAAAkD,EAAoBQ,aAAA,aACvB1D,OAAGuB,KAACiB,MAAJmB,QAAAnD,QAAAoD,GAAA,WAbDrD,kBAAkB0C,YAAYC,OAKjCI,WAAA,WACC,IAkBCR,EAlB6B,WAA1B,oBAAOS,eAAP,YAAAM,QAAON,mBAeZrD,UAAIE,eACHkB,WAAYyB,IAAZzB,OAAkBwC,KAAAA,WAbjB9D,IAAM,IAAIsB,OAAOC,KAAKkC,IAAIrD,YAAaK,WAcxCU,aACC2B,EAAAA,OAAevB,KAAAwB,MAAAN,YAAAzC,IAAA,OAAA,WACf,GAAAA,IAAA+D,WACD/D,IAAAwC,QAAA,IAXElB,OAAOC,KAAKwB,MAAMiB,eAAeC,KAElC3C,OAAOC,KAAKwB,MAAMN,YAAYzC,IAAK,iBAAkB8C,mBAInD1C,cACHkB,OAAOC,KAAKwB,MAAMe,eAAeI,OAAQ,OAAQZ,YAC7C/C,mBACHuC","file":"map.min.js","sourcesContent":["let mapSelector = document.querySelector(\"#map\");\r\nlet dealerLocatorList = document.querySelector(\".dealer-locator-list .list\");\r\nlet map, lastItemClickedIndex, locations, infoWindow, markers = [];\r\nlet mapOption = {\r\n\tzoom: 12,\r\n\tstyles: [{\r\n\t\t\t\"featureType\": \"administrative\",\r\n\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#444444\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#f2f2f2\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"poi\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"saturation\": -100,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"lightness\": 45,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"simplified\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.arterial\",\r\n\t\t\t\"elementType\": \"labels.icon\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"transit\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\",\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"water\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"color\": \"#0c6db5\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"visibility\": \"on\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst addMarkers = () => {\r\n\tmarkers = [];\r\n\tconst bounds = new google.maps.LatLngBounds();\r\n\tlocations.forEach((location, index) => {\r\n\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\r\n\t\tlet marker = new google.maps.Marker({\r\n\t\t\tmap: map,\r\n\t\t\ttitle: location.title,\r\n\t\t\tposition: locationLatLng,\r\n\t\t\ticon: location.icon,\r\n\t\t});\r\n\t\tbounds.extend(marker.position);\r\n\t\tmarkers.push(marker);\r\n\t\tshowInfoMarkerOnMap(marker, index);\r\n\t});\r\n\r\n\tmap.fitBounds(bounds);\r\n};\r\n\r\nconst showInfoMarkerOnMap = (marker, index) => {\r\n\tgoogle.maps.event.addListener(marker, \"click\", function() {\r\n\t\tinfoWindow.setContent(`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`);\r\n\t\tlastItemClickedIndex = index;\r\n\t\tinfoWindow.open(map, marker);\r\n\t\tmap.panTo(marker.getPosition());\r\n\t\tmap.setZoom(12);\r\n\t});\r\n\tgoogle.maps.event.addListener(map, \"click\", function() {\r\n\t\tinfoWindow.close();\r\n\t});\r\n};\r\n\r\nconst getLocationList = () => {\r\n\tif (dealerLocatorList) {\r\n\t\t// dealerLocatorList.innerHTML = \"\";\r\n\t\t// markers.forEach((marker, index) => {\r\n\t\t// \tif (map.getBounds().contains(marker.getPosition())) {\r\n\t\t// \t\tconst newMarker = document.createElement(\"div\");\r\n\t\t// \t\tnewMarker.classList.add(\"dealer-locator-item\");\r\n\t\t// \t\tnewMarker.innerHTML = `\r\n\t\t// \t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t// \t\t\t\t<p>${locations[index].address}</p>\r\n\t\t// \t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t// \t\t\t`;\r\n\t\t// \t\tnewMarker.setAttribute(\"marker-id\", `${index}`);\r\n\t\t// \t\tnewMarker.addEventListener(\"click\", () => {\r\n\t\t// \t\t\tlastItemClickedIndex = index;\r\n\t\t// \t\t\tconst markerIndex = newMarker.getAttribute(\"marker-id\");\r\n\t\t// \t\t\tgoogle.maps.event.trigger(markers[markerIndex], \"click\");\r\n\t\t// \t\t});\r\n\t\t// \t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tdealerLocatorList.innerHTML = \"\";\r\n\t\tmarkers.forEach((marker, index) => {\r\n\t\t\tconst newMarker = document.createElement(\"div\");\r\n\t\t\tnewMarker.classList.add(\"dealer-locator-item\");\r\n\t\t\tnewMarker.innerHTML =\r\n\t\t\t\t`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`;\r\n\t\t\tnewMarker.setAttribute(\"marker-id\", `${index}`);\r\n\t\t\tnewMarker.addEventListener(\"click\", () => {\r\n\t\t\t\tlastItemClickedIndex = index;\r\n\t\t\t\tconst markerIndex = newMarker.getAttribute(\"marker-id\");\r\n\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], \"click\");\r\n\t\t\t});\r\n\t\t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst initialize = () => {\r\n\tif (typeof(locationsInput) == \"object\") {\r\n\t\tlocations = locationsInput;\r\n\t\tinfoWindow = new google.maps.InfoWindow();\r\n\t\tmap = new google.maps.Map(mapSelector, mapOption);\r\n\t\taddMarkers();\r\n\t\tlet listener = google.maps.event.addListener(map, \"idle\", () => {\r\n\t\t\tif (map.getZoom() > 12) {\r\n\t\t\t\tmap.setZoom(12);\r\n\t\t\t}\r\n\t\t\tgoogle.maps.event.removeListener(listener);\r\n\t\t});\r\n\t\tgoogle.maps.event.addListener(map, \"bounds_changed\", getLocationList);\r\n\t}\r\n};\r\n\r\nif (mapSelector) {\r\n\tgoogle.maps.event.addDomListener(window, \"load\", initialize);\r\n\tif (dealerLocatorList) {\r\n\t\tgetLocationList();\r\n\t}\r\n}"]}